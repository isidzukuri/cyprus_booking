(function(a){a.fn.insertAtCaret=function(b){return this.each(function(){if(document.selection){this.focus();sel=document.selection.createRange();sel.text=b;this.focus();}else{if(this.selectionStart||this.selectionStart=="0"){var d=this.selectionStart;var c=this.selectionEnd;var e=this.scrollTop;this.value=this.value.substring(0,d)+b+this.value.substring(c,this.value.length);this.focus();this.selectionStart=d+b.length;this.selectionEnd=d+b.length;this.scrollTop=e;}else{this.value+=b;this.focus();}}});};})(jQuery);
